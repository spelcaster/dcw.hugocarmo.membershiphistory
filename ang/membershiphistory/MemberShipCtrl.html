<h1 crm-page-title crm-document-title="ts('Membership History')">
    {{ts('Membership History')}}
</h1>

<div class="crm-container">
    <table>
        <tr>
            <th>Contact</th>
            <th>Membership Start Date</th>
            <th>Membership End Date</th>
            <th>Status</th>
            <th>Contribution</th>
        </tr>
        <tr ng-repeat="entry in history"
            ng-init="status = getStatus(entry.end_date);">
            <td>
                <a target="_blank"
                   href="/civicrm/contact/view?reset=1&cid={{ entry.cid }}">
                    {{ entry.display_name }}
                </a>
            </td>
            <td>
                {{ entry.start_date }}
            </td>
            <td>
                {{ entry.end_date }}
            </td>
            <td>
                <span
                    ng-class="[ status.class, 'membership-history-status' ]"
                    title="{{ status.text }}">
                </span>
            </td>
            <td>
                <a target="_blank" href="/civicrm/contact/view/contribution?reset=1&id={{ entry.contribution_id }}&cid={{ entry.cid }}&action=view">
                    view
                </a>
            </td>
        </tr>
    </table>
</div>
